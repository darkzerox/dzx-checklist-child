!function(t,e,a){function n(){t('#property_list').change(function(){console.log(t(this).val()),t.ajax({type:'POST',url:darkxee_plist.callurl,data:{action:'get_property_detail',pid:t(this).val()},success:function(e){console.log(e);var a='<div id=\'pro_list\'>';a+=`\n          \n          <ul id="tenant_data">\n            <li>Tenant ID : <input type="text" class="edit-data" name="id"  value="${(e=(e=JSON.parse(e))[0]).tenant_id}" /></li> \n            <li>Tenant Name : <input type="text" class="edit-data" name="name"  value="${e.tenName}" /></li> \n            <li>Address : \n              <input type="text" class="edit-data" name="address" value="${e.tenAddress}" /> \n              <input type="text" class="edit-data" name="district" value="${e.tenDistrict}" /> \n              <input type="text" class="edit-data" name="city" value="${e.tenCity}" /> \n              <input type="text" class="edit-data" name="provice" value="${e.tenProvice}"/> \n              <input type="text" class="edit-data" name="zippost" value="${e.tenZippost}"/> \n            </li> \n            <li>Email : <input type="text" class="edit-data" name="email" value="${e.tenEmail}" /></li>\n            <li>Tel. : <input type="text" class="edit-data" name="phone" value="${e.tenPhone}" /></li>\n            <button id="tenant_data_update" class="property_btn_update">Update</button>\n          </ul>\n          \n          <ul id="landlord_data">\n            <li>Landlord ID : <input type="text" class="edit-data" name="id" value="${e.landlord_id}" /></li>\n            <li>Landlord Name : <input type="text" class="edit-data" name="name" value="${e.landName}" /></li>\n            <li>Email : <input type="text" class="edit-data" name="email" value="${e.landEmail}" /></li>\n            <li>Tel. : <input type="text" class="edit-data" name="phone" value="${e.landPhone}" /></li>   \n            <li>Address : \n              <input type="text" class="edit-data" name="address" value="${e.landAddress}" /> \n              <input type="text" class="edit-data" name="district" value="${e.landDistrict}"/>  \n              <input type="text" class="edit-data" name="city" value="${e.landdCity}" /> \n              <input type="text" class="edit-data" name="provice" value="${e.landProvice}" /> \n              <input type="text" class="edit-data" name="zippost" value="${e.landZippost}"/> \n            </li>\n            <button id="landlord_data_update" class="property_btn_update">Update</button>\n          </ul>\n\n          <ul id="property_data">\n            <li>Property ID : <input type="text" class="edit-data" name="id" value="${e.id}" /></li>\n            <li>Property Name : <input type="text" class="edit-data" name="pro_name" value="${e.pro_name}" /></li>\n            <li>Property Address : \n              <input type="text" class="edit-data" name="address" value="${e.address}" /> \n              <input type="text" class="edit-data" name="district" value="${e.district}" /> \n              <input type="text" class="edit-data" name="city" value="${e.city}" /> \n              <input type="text" class="edit-data" name="provice" value="${e.provice}" /> \n              <input type="text" class="edit-data" name="zippost" value="${e.zippost}"/> \n            </li>\n            <li>Lease start date : <input type="text" class="edit-data" name="startdate" value="${e.startdate}" /></li>\n            <li>Lease expire date : <input type="text" class="edit-data" name="enddate" value="${e.enddate}" /></li>\n            <button id="property_data_update" class="property_btn_update">Update</button>\n          </ul>\n\n          `,a+='</div>',d('landlord',e.landlord_id),d('tenant',e.tenant_id),t('#pro_list').remove(),t(a).insertAfter('.checklist'),t('.edit-data').on('input',function(){var e=t(this).textWidth();t(this).css({width:e+10})}).trigger('input'),t('.property_btn_update').click(function(){var e=t(this).parent().find('.edit-data'),a=t(this).parent('ul').attr('id').split('_');a=a[0];var n=[];e.each(function(){var e=t(this).attr('name'),a=t(this).val();n.push({field:e,val:a})}),console.log(n),i(a,n)})}})})}function i(e,a){t.ajax({type:'POST',url:darkxee_plist.callurl,data:{action:'checklist_update_table',table_data:a,table_name:e},success:function(t){console.log(t)}})}function d(e,a){t.ajax({type:'POST',url:darkxee_plist.callurl,data:{action:'get_people',table_name:e,id:a},success:function(t){console.log(t)}})}var l;function s(e,a,n){e=t(this),console.log(e)}function p(t){return void 0!=t?t:''}a.ready(function(){n()}),s(t('.edit-data')),t.fn.textWidth=function(e,a){return t.fn.textWidth.fakeEl||(t.fn.textWidth.fakeEl=t('<span>').hide().appendTo(document.body)),t.fn.textWidth.fakeEl.text(e||this.val()||this.text()||this.attr('placeholder')).css('font',a||this.css('font')),t.fn.textWidth.fakeEl.width()}}(jQuery,jQuery(window),jQuery(document));